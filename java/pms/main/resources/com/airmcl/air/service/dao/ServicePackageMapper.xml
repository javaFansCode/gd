<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.airmcl.air.service.dao.ServicePackageMapper" >
  <resultMap id="BaseResultMap" type="com.airmcl.air.service.entity.ServicePackage" >
    <id column="id" property="id" jdbcType="INTEGER" />
    <result column="package_id" property="packageId" jdbcType="INTEGER" />
    <result column="service_id" property="serviceId" jdbcType="INTEGER" />
    <result column="beauty_id" property="beautyId" jdbcType="INTEGER" />
    <result column="service_total" property="serviceTotal" jdbcType="INTEGER" />
  </resultMap>
  
  <insert id="insertIntoServicePackage" parameterType="com.airmcl.air.service.entity.ServicePackage" useGeneratedKeys="true" keyProperty="id" >
      insert into mdd_api_service_package (package_id,service_id,beauty_id,service_total) values
       (#{packageId,jdbcType=INTEGER},#{serviceId,jdbcType=INTEGER},#{beautyId,jdbcType=INTEGER},#{serviceTotal,jdbcType=INTEGER})
  </insert>
  <insert id="insertBatch" parameterType="com.airmcl.air.service.entity.ServicePackage" >
         insert into mdd_api_service_package  (package_id,service_id, service_total,beauty_id) values
       <foreach collection="list" item="item" index="index" separator=","   >
           (#{item.packageId,jdbcType=INTEGER},#{item.serviceId,jdbcType=INTEGER},#{item.serviceTotal,jdbcType=INTEGER},#{item.beautyId,jdbcType=INTEGER})
       </foreach>
  </insert>
  <update id="updateServicePackage" parameterType="com.airmcl.air.service.entity.ServicePackage">
  		update mdd_api_service_package
    <set >
      <if test="record.packageId != null" >
        package_id = #{record.packageId,jdbcType=INTEGER}
      </if>
      <if test="record.serviceId != null" >
        service_id = #{record.serviceId,jdbcType=INTEGER}
      </if>
      <if test="record.beautyId != null" >
        beauty_id = #{record.beautyId,jdbcType=INTEGER}
      </if>
      <if test="record.serviceTotal!= null" >
        service_total = #{record.serviceTotal,jdbcType=INTEGER}
      </if>
     </set>
     <where>
        id = #{record.id,jdbcType=INTEGER}
     </where>
  </update>
  <select id="selectAllServicePackagesByServiceId" parameterType="java.lang.Integer" resultMap="BaseResultMap">
     select * from mdd_api_service_package where package_id=#{serviceId,jdbcType=INTEGER}
  </select>
  <delete id="delServicePackageByPackageId" parameterType="java.lang.Integer">
      delete  from mdd_api_service_package where package_id=#{packageId,jdbcType=INTEGER}
  </delete>
</mapper>